clc
clear all

%% Initialization
format long
syms x
syms xd
t=1.640533; %true value
f(x)= 9.8*68.1/12.5*(1-exp(-(12.5/68.1)*x));
a=0.2; %initial
b=0.8; %final
g(xd)=f((b+a)/2 + (b-a)/2*xd)*(b-a)/2;
p=input('points, p = '); %no. of points, min 2

%% Gauss Quadrature
C=[0 0 0 0 0 0;
    1 1 0 0 0 0;
    0.555556 0.888889 0.555556 0 0 0;
    0.347855 0.652145 0.652145 0.347855 0 0;
    0.236927 0.478629 0.568889 0.478629 0.236927 0;
    0.171325 0.360762 0.467914 0.467914 0.360762 0.171325];
xx=[0 0 0 0 0 0;
    -0.57735 0.57735 0 0 0 0;
    -0.774597 0 0.774597 0 0 0;
    -0.861136 -0.339981 0.339981 0.861136 0 0;
    -0.90618 -0.538469 0 0.538469 0.90618 0;
    -0.93247 -0.66121 -0.23862 0.23862 0.66121 0.93247];
C=C(p,:);
xx=xx(p,:);
I=0;
for i=1:p
    fprintf('C%g=%10.6f\t\tx%g=%10.6f\t\tg(x%g)=%10.6f\t\t',i-1,C(i),i-1,xx(i),i-1,g(xx(i)));
    Ii=C(i)*g(xx(i));
    I=I+Ii;
    fprintf('C%gg(x%g)=%10.6f\n',i-1,i-1,Ii);
end
fprintf('I=%10.6f',I);
    